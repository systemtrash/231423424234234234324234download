<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Configurar Mundo — Froggy</title>
<style>
:root{--bg:#000;--brand:#3bd27a;--brand-strong:#2fc55f;--muted:#9aa0a6}
body{background:linear-gradient(180deg,#020608 0%,#041018 60%);color:#eafaf0;font-family:Inter,Segoe UI,Arial;margin:0;padding:32px}
.container{max-width:980px;margin:0 auto}
.card{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));padding:28px;border-radius:14px;border:1px solid rgba(59,210,122,0.04);box-shadow:0 20px 60px rgba(0,0,0,0.6)}
.field{margin-bottom:14px}
.label{display:block;color:var(--muted);font-size:13px;margin-bottom:8px}
.input,select,textarea{width:100%;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:#eafaf0}
.input:focus,select:focus,textarea:focus{outline:none;border-color:var(--brand);box-shadow:0 8px 30px rgba(47,197,95,0.08);background:rgba(255,255,255,0.01)}
.row{display:flex;gap:14px}
.col{flex:1}
.headline{font-size:26px;color:var(--brand);margin:0 0 12px;font-weight:800}
.sub{color:var(--muted);margin-bottom:18px}
.btn{display:inline-block;padding:10px 20px;background:linear-gradient(90deg,var(--brand),var(--brand-strong));color:#02110a;border-radius:12px;text-decoration:none;font-weight:800;border:none;cursor:pointer}
.btn.secondary{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted)}
.actions{display:flex;gap:12px;align-items:center;margin-top:10px}
.note{color:var(--muted);font-size:13px;margin-top:10px}
.kbd{background:rgba(255,255,255,0.02);padding:6px 8px;border-radius:6px;border:1px solid rgba(255,255,255,0.02);font-family:monospace;font-size:13px;color:var(--muted)}
.status{margin-top:12px;padding:10px;border-radius:10px;font-weight:700}
.status.ok{background:linear-gradient(90deg,rgba(59,210,122,0.08),rgba(47,197,95,0.04));color:var(--brand)}
.status.warn{background:rgba(255,200,50,0.04);color:#ffd88a}
.small{font-size:13px;color:var(--muted)}
</style>
<style>
  /* Frog layer styles (full-viewport) */
  #frogLayer{position:fixed;inset:0;width:100%;height:100%;pointer-events:none;z-index:9999;overflow:visible}
  .frogflake{position:absolute;will-change:transform;pointer-events:none;user-select:none;z-index:10000}
</style>
</head>
<body>
<div class="container">
  <h1 style="color:var(--brand)">Configurar Mundo Minecraft</h1>
  <div class="card">
    <div class="field">
      <label class="label">Nome do Mundo</label>
      <input id="worldName" class="input" placeholder="Ex: Meu Mundo" />
      <div class="small">Dê um nome único e fácil de lembrar para seu mundo.</div>
    </div>

    <div class="row">
      <div class="col field">
        <label class="label">Versão do Servidor</label>
        <select id="version" class="input">
          <option>1.20.4</option>
          <option>1.19.4</option>
          <option>1.18.2</option>
          <option>1.8.9</option>
          <option>Custom</option>
        </select>
      </div>
      <div class="col field">
        <label class="label">RAM</label>
        <select id="ram" class="input">
          <option>1 GB</option>
          <option>2 GB</option>
          <option>4 GB</option>
          <option>8 GB</option>
        </select>
      </div>
    </div>

    <div class="row">
      <div class="col field">
        <label class="label">Máx. Jogadores</label>
        <input id="maxPlayers" class="input" type="number" min="1" max="200" value="20" />
      </div>
      <div class="col field">
        <label class="label">Porta</label>
        <input id="port" class="input" type="number" min="1" max="65535" value="25565" />
      </div>
    </div>

    <div class="field">
      <label><input id="enableMods" type="checkbox"> Habilitar Mods (Forge/Fabric)</label>
    </div>

    <div class="field">
      <label class="label">Modpack / Plugins (uma por linha)</label>
      <textarea id="modsList" class="input" rows="4" placeholder="ex: WorldEdit\nEssentialsX"></textarea>
    </div>

    <div class="field">
      <label><input id="backups" type="checkbox" checked> Ativar backups diários</label>
    </div>

    <div class="actions">
      <button id="saveBtn" class="btn">Salvar Configuração</button>
      <button id="deployBtn" class="btn secondary">Provisionar (simular)</button>
      <a id="viewBtn" class="btn secondary" href="minecraft.html">Ver Mundo</a>
      <div id="status" class="status" style="display:none"></div>
    </div>

    <script>
      const key = 'mcConfig';
      function load(){
        const raw = localStorage.getItem(key);
        if(!raw) return;
        try{ const c = JSON.parse(raw);
          document.getElementById('worldName').value = c.worldName||'';
          document.getElementById('version').value = c.version||'1.20.4';
          document.getElementById('ram').value = c.ram||'2 GB';
          document.getElementById('maxPlayers').value = c.maxPlayers||20;
          document.getElementById('port').value = c.port||25565;
          document.getElementById('enableMods').checked = !!c.enableMods;
          document.getElementById('modsList').value = (c.mods||[]).join('\n');
        }catch(e){console.warn('mcConfig parse',e)}
      }
      function gather(){
        return {
          worldName: document.getElementById('worldName').value.trim(),
          version: document.getElementById('version').value,
          ram: document.getElementById('ram').value,
          maxPlayers: parseInt(document.getElementById('maxPlayers').value,10)||20,
          port: parseInt(document.getElementById('port').value,10)||25565,
          enableMods: document.getElementById('enableMods').checked,
          mods: document.getElementById('modsList').value.split('\n').map(s=>s.trim()).filter(Boolean),
          savedAt: Date.now()
        };
      }
      document.getElementById('saveBtn').addEventListener('click', ()=>{
        const cfg = gather();
        const st = document.getElementById('status');
        if(!cfg.worldName){st.style.display='block';st.className='status warn';st.textContent='Informe um nome para o mundo.';return}
        localStorage.setItem(key, JSON.stringify(cfg));
        st.style.display='block';st.className='status ok';st.textContent='Configuração salva localmente.';
        setTimeout(()=>{ if(st) st.style.display='none'; }, 3800);
      });
      document.getElementById('deployBtn').addEventListener('click', ()=>{
        const cfg = gather();
        const st = document.getElementById('status');
        if(!cfg.worldName){st.style.display='block';st.className='status warn';st.textContent='Informe um nome para o mundo.';return}
        localStorage.setItem(key, JSON.stringify(cfg));
        st.style.display='block';st.className='status ok';st.textContent='Simulando provisionamento... redirecionando para Assinaturas.';
        setTimeout(()=>{ window.location.href = 'assinaturas.html'; },800);
      });
      // prefill default if empty
      load();
      if(!document.getElementById('worldName').value) document.getElementById('worldName').value = 'Meu Mundo';
    </script>
  </div>
  </div>

  <!-- Full-viewport frog layer -->
  <div id="frogLayer" aria-hidden="true"></div>
  <script>
    (function(){
      const frogUrl = 'https://cdn.discordapp.com/attachments/1472394007177859290/1475317331105153217/brxglnr.webp?ex=699d0bd5&is=699bba55&hm=28de28cba379ead5be3fa05b5dd4316691425d13368ab4d546eb8cdb477618a4&animated=true';
      const layer = document.getElementById('frogLayer');
      const maxFrogs = 90;
      let count = 0;
      function createFrog(){
        if(count >= maxFrogs) return;
        const img = document.createElement('img');
        img.className = 'frogflake';
        img.src = frogUrl;
        const size = (Math.random()*18)+12;
        const startX = Math.random() * window.innerWidth;
        img.style.left = startX + 'px';
        img.style.top = '-80px';
        img.style.width = size + 'px';
        img.style.opacity = (Math.random()*0.35)+0.6;
        layer.appendChild(img);
        count++;
        let posY = -80;
        let posX = startX;
        let speed = Math.random()*2 + 1;
        let drift = Math.random()*0.4 - 0.2;
        const id = setInterval(()=>{
          posY += speed;
          posX += Math.sin(posY/50) * drift;
          img.style.transform = `translate(${posX - startX}px, ${posY + 80}px)`;
          if(posY > window.innerHeight + 100){
            posY = -80;
            img.style.left = (Math.random()*window.innerWidth) + 'px';
            speed = Math.random()*2 + 1;
            drift = Math.random()*0.4 - 0.2;
          }
        }, 30);
        img.dataset._anim = id;
      }
      // initial burst
      for(let i=0;i<50;i++){ setTimeout(createFrog, i*30); }
      // refill
      setInterval(()=>{ if(count < maxFrogs) createFrog(); }, 500);
      // cleanup on unload
      window.addEventListener('beforeunload', ()=>{
        document.querySelectorAll('.frogflake').forEach(img=>{ const id = parseInt(img.dataset._anim,10); if(id) clearInterval(id); });
      });
    })();
  </script>
  </body>
  </html>